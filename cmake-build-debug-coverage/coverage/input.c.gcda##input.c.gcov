        -:    0:Source:/home/foxers/CLionProjects/advcpp2021homework1/src/input.c
        -:    0:Graph:/home/foxers/CLionProjects/advcpp2021homework1/cmake-build-debug-coverage/CMakeFiles/tests.dir/src/input.c.gcno
        -:    0:Data:/home/foxers/CLionProjects/advcpp2021homework1/cmake-build-debug-coverage/CMakeFiles/tests.dir/src/input.c.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "../include/input.h"
        -:    2:
    #####:    3:char input_char() {
    #####:    4:    char c = '\0';
    #####:    5:    int result = 0;
    %%%%%:    5-block  0
        -:    6:    do {
    #####:    7:        result = scanf("%c", &c);
    %%%%%:    7-block  0
    #####:    8:    } while (result != 1);
    #####:    9:    return c;
    %%%%%:    9-block  0
        -:   10:}
        -:   11:
    #####:   12:char *input_string() {
    #####:   13:    char *string = NULL;
    #####:   14:    size_t size = 0;
    #####:   15:    size_t capacity = 0;
    #####:   16:    char c = '\0';
    #####:   17:    while (c = input_char(), c != EOF && c != '\n') {
    %%%%%:   17-block  0
    %%%%%:   17-block  1
    %%%%%:   17-block  2
    %%%%%:   17-block  3
    %%%%%:   17-block  4
    %%%%%:   17-block  5
    #####:   18:        if (size + 1 >= capacity) {
    %%%%%:   18-block  0
    #####:   19:            size_t new_capacity = !capacity ? 1 : capacity * 2;
    %%%%%:   19-block  0
    %%%%%:   19-block  1
    %%%%%:   19-block  2
    #####:   20:            char *tmp = (char *)malloc((new_capacity + 1) * sizeof(char));
    #####:   21:            if (!tmp) {
    %%%%%:   21-block  0
    #####:   22:                if (string) {
    %%%%%:   22-block  0
    #####:   23:                    free(string);
    %%%%%:   23-block  0
        -:   24:                }
    #####:   25:                return NULL;
    %%%%%:   25-block  0
        -:   26:            }
    #####:   27:            if (string) {
    %%%%%:   27-block  0
    #####:   28:                tmp = strcpy(tmp, string);
    #####:   29:                free(string);
    %%%%%:   29-block  0
        -:   30:            }
    #####:   31:            string = tmp;
    #####:   32:            capacity = new_capacity;
    %%%%%:   32-block  0
        -:   33:        }
    #####:   34:        string[size] = c;
    #####:   35:        string[size + 1] = '\0';
    #####:   36:        ++size;
    %%%%%:   36-block  0
        -:   37:    }
    #####:   38:    return string;
    %%%%%:   38-block  0
        -:   39:}
        -:   40:
    #####:   41:int input_int() {
    #####:   42:    char c = '\0';
    #####:   43:    int result = 0;
    #####:   44:    while (c = input_char(), c != EOF && c != '\n') {
    %%%%%:   44-block  0
    %%%%%:   44-block  1
    %%%%%:   44-block  2
    %%%%%:   44-block  3
    %%%%%:   44-block  4
    %%%%%:   44-block  5
    #####:   45:        if (!(c >= '0' && c <= '9')) {
    %%%%%:   45-block  0
    %%%%%:   45-block  1
    #####:   46:            char *buf = input_string(); /* Read to the end of the string */
    %%%%%:   46-block  0
    #####:   47:            if (buf) {
    #####:   48:                free(buf);
    %%%%%:   48-block  0
        -:   49:            }
    #####:   50:            return 0;
    %%%%%:   50-block  0
        -:   51:        }
    #####:   52:        result = result * 10 + c - '0';
    %%%%%:   52-block  0
        -:   53:    }
    #####:   54:    return result;
    %%%%%:   54-block  0
        -:   55:}
