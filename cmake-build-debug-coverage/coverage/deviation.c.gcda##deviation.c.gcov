        -:    0:Source:/home/foxers/CLionProjects/advcpp2021homework1/src/deviation.c
        -:    0:Graph:/home/foxers/CLionProjects/advcpp2021homework1/cmake-build-debug-coverage/CMakeFiles/tests.dir/src/deviation.c.gcno
        -:    0:Data:/home/foxers/CLionProjects/advcpp2021homework1/cmake-build-debug-coverage/CMakeFiles/tests.dir/src/deviation.c.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1://Так как идеально подходящего продукта обычно нет, мы можем только найти наименее неподходящий
        -:    2:#include "../include/deviation.h"
        -:    3:
        4:    4:int deviation(dish applicant, dish desire){ //функция вычисления отклонения продукта от требований
        4:    5:    int result = 0;
        -:    6:
        4:    7:    if(desire.cal != 0){
        4:    7-block  0
        4:    8:        result += abs(applicant.cal - desire.cal);
        4:    8-block  0
        -:    9:    }
        -:   10:
        4:   11:    if(desire.e_value != 0){
        4:   11-block  0
        4:   12:        result += abs(applicant.e_value - desire.e_value);
        4:   12-block  0
        -:   13:    }
        -:   14:
        4:   15:    if(desire.proteins != 0){
        4:   15-block  0
        4:   16:        result += abs(applicant.proteins - desire.proteins);
        4:   16-block  0
        -:   17:    }
        -:   18:
        4:   19:    if(desire.fats != 0){
        4:   19-block  0
        4:   20:        result += abs(applicant.fats - desire.fats);
        4:   20-block  0
        -:   21:    }
        -:   22:
        4:   23:    if(desire.carbohydrates != 0){
        4:   23-block  0
        4:   24:        result += abs(applicant.carbohydrates - desire.carbohydrates);
        4:   24-block  0
        -:   25:    }
        -:   26:
        4:   27:    if(desire.sugar != 0){
        4:   27-block  0
        4:   28:        result += abs(applicant.sugar - desire.sugar);
        4:   28-block  0
        -:   29:    }
        -:   30:
        4:   31:    if((desire.vit_A == 1)&&(applicant.vit_A == 0)){
        4:   31-block  0
        4:   31-block  1
    #####:   32:        result += 10;
    %%%%%:   32-block  0
        -:   33:    }
        -:   34:
        4:   35:    if((desire.vit_D == 1)&&(applicant.vit_D == 0)){
        4:   35-block  0
        4:   35-block  1
    #####:   36:        result += 10;
    %%%%%:   36-block  0
        -:   37:    }
        -:   38:
        4:   39:    if((desire.vit_E == 1)&&(applicant.vit_E == 0)){
        4:   39-block  0
        4:   39-block  1
    #####:   40:        result += 10;
    %%%%%:   40-block  0
        -:   41:    }
        -:   42:
        4:   43:    if((desire.vit_K == 1)&&(applicant.vit_K == 0)){
        4:   43-block  0
        3:   43-block  1
        3:   44:        result += 10;
        3:   44-block  0
        -:   45:    }
        -:   46:
        4:   47:    return result;
        4:   47-block  0
        -:   48:}
        -:   49:
        2:   50:char *find(dish target, dish_list *fridge){
        2:   51:    int min = deviation(target, fridge->current);
        2:   51-block  0
        2:   52:    char* min_name = fridge->current.name;
        2:   53:    dish_list *node = fridge->next;
        -:   54:
        2:   55:    if(node == NULL) {
        1:   56:        return min_name;
        1:   56-block  0
        -:   57:    }
        -:   58:
        2:   59:    while (node->next != NULL) {
        1:   59-block  0
        2:   59-block  1
        1:   60:        int temp = deviation(target, node->current);
        1:   60-block  0
        -:   61:
        1:   62:        if (temp < min) {
    #####:   63:            min = temp;
    #####:   64:            min_name = node->current.name;
    %%%%%:   64-block  0
        -:   65:        }
        -:   66:
        1:   67:        node = node->next;
        1:   67-block  0
        -:   68:    }
        1:   69:    return min_name;
        1:   69-block  0
        -:   70:}
